---
# ==============================================================================
# Local (Mac) Configuration Example
# ==============================================================================
# Скопируйте этот файл в envs/local/group_vars/local.yml
# и заполните своими значениями
#
# Эта конфигурация для запуска sing-box на локальном Mac
# ==============================================================================

# ------------------------------------------------------------------------------
# Runtime Configuration
# ------------------------------------------------------------------------------
# Режим запуска: binary, brew, launchd, docker
local_runtime: binary

# Режим работы sing-box:
#   proxy - HTTP/SOCKS5 прокси (рекомендуется, не требует root)
#   tun   - TUN интерфейс (требует root/sudo)
local_singbox_mode: proxy

# Proxy port (для режима proxy)
local_proxy_http_port: 2080

# ------------------------------------------------------------------------------
# Domain Lists
# ------------------------------------------------------------------------------
# Включённые списки доменов (имена файлов из roles/router/files/*.lst)
local_enabled_domains:
  - openai        # ChatGPT, OpenAI API
  - copilot       # GitHub Copilot
  - google        # Google, YouTube
  - claude        # Claude AI
  - datadog       # Datadog monitoring
  - instagram     # Instagram
  - netflix       # Netflix
  - x             # X (Twitter)
  - linkedin      # LinkedIn
  # - windsurf    # Windsurf IDE
  # - telegram    # Telegram

# ------------------------------------------------------------------------------
# PAC (Proxy Auto-Configuration)
# ------------------------------------------------------------------------------
local_pac_enabled: true

# Дополнительные источники доменов для PAC файла
local_pac_extra_sources:
  - "https://raw.githubusercontent.com/itdoginfo/allow-domains/main/Russia/inside-dnsmasq-ipset.lst"

# ------------------------------------------------------------------------------
# VLESS Outbound (VPN Server)
# ------------------------------------------------------------------------------
# ⚠️ ОБЯЗАТЕЛЬНО замените значения на свои!
# Получите их из 3x-ui или аналогичной панели

local_singbox_outbound:
  tag: vpn-out
  type: vless
  server: "YOUR_VPN_SERVER_IP"        # IP вашего VPN сервера
  server_port: 443                     # Порт
  uuid: "YOUR-UUID-HERE"               # UUID из 3x-ui
  flow: xtls-rprx-vision
  tls:
    enabled: true
    insecure: false
    server_name: www.google.com        # SNI для маскировки
    disable_sni: false
  utls:
    enabled: true
    fingerprint: random                # chrome, firefox, safari, random
  reality:
    enabled: true
    public_key: "YOUR_REALITY_PUBLIC_KEY"
    short_id: "YOUR_SHORT_ID"
